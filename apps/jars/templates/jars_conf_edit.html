{% extends "dev_conf_edit.html" %}
{% load bootstrap3 %}
{% load static %}
{% load main_tags %}

{% block extra-js%}
<script type="text/javascript">

$(document).ready(function() {
	var type = $("#id_exp_type").val();
	spectral_number = $("#id_spectral_number")
	spectral        = $("#id_spectral")
	fftpoints       = $("#id_fftpoints")
	save_ch_dc      = $("#id_save_ch_dc")
	add_spec_button = $("#add_spectral_button")
	del_spec_button = $("#delete_spectral_button")
	if (type == 0) {
		$(spectral_number).attr('readonly', true);	
		$(spectral).attr('readonly', true);
		$(fftpoints).attr('readonly', true);
		$(save_ch_dc).attr('disabled', true);
		$(save_ch_dc).attr('readonly', true);
		$(add_spec_button).attr('disabled', true);
		$(del_spec_button).attr('disabled', true);
		
	}
	else {
		$(spectral_number).attr('readonly', false);
		$(spectral).attr('readonly', false);
		$(fftpoints).attr('readonly', false);
		$(save_ch_dc).attr('disabled', false);
		$(save_ch_dc).attr('readonly', false);
		$(add_spec_button).attr('disabled', false);
		$(del_spec_button).attr('disabled', false);
	}	
});

$("#id_exp_type").change(function() {
	var type = $("#id_exp_type").val();
	spectral_number = $("#id_spectral_number")
	spectral        = $("#id_spectral")
	fftpoints       = $("#id_fftpoints")
	save_ch_dc      = $("#id_save_ch_dc")
	add_spec_button = $("#add_spectral_button")
	del_spec_button = $("#delete_spectral_button")
	if (type == 0) {
		$(spectral_number).attr('readonly', true);	
		$(spectral).attr('readonly', true);
		$(fftpoints).attr('readonly', true);
		$(save_ch_dc).attr('disabled', true);
		$(save_ch_dc).attr('readonly', true);
		$(add_spec_button).attr('disabled', true);
		$(del_spec_button).attr('disabled', true);
		
	}
	else {
		$(spectral_number).attr('readonly', false);
		$(spectral).attr('readonly', false);
		$(fftpoints).attr('readonly', false);
		$(save_ch_dc).attr('disabled', false);
		$(save_ch_dc).attr('readonly', false);
		$(add_spec_button).attr('disabled', false);
		$(del_spec_button).attr('disabled', false);
	}
});

$("#id_channels_number").on('change', function() {
	updateChannelsNumber();
});
	
function updateChannelsNumber() {
	
	var channels_number = $("#id_channels_number").val();
	channels = $("#id_channels")
	
	if (channels_number == 1) {
	    $(channels).val('1')
	}
	else if (channels_number == 2){
		$(channels).val('1,2')
	}
	else if (channels_number == 3){
		$(channels).val('1,2,3')
	}
	else if (channels_number == 4){
		$(channels).val('1,2,3,4')
	}
	else if (channels_number == 5){
		$(channels).val('1,2,3,4,5')
	}
	else if (channels_number == 6){
		$(channels).val('1,2,3,4,5,6')
	}
	else if (channels_number == 7){
		$(channels).val('1,2,3,5,6,7')
	}
	else {
		$(channels).val('1,2,3,4,5,6,7,8')
	}

}
</script>
{% endblock %}